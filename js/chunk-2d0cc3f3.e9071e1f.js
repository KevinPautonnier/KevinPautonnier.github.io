(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cc3f3"],{"4cb0":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",[e._v("Nombre d'heure éffectuées : "+e._s(e.hours))]),e.dataModified?s("button",{on:{click:e.saveData}},[e._v("Enregistrer les modifications")]):e._e(),s("full-calendar",{attrs:{events:e.events,header:e.header},on:{"event-selected":e.eventSelected,"event-drop":e.eventDragStop,"event-resize":e.eventResizeStop}})],1)},n=[],o=(s("ac6a"),s("cadf"),s("551c"),s("097d"),s("c1df"));o().format();var r=!1,i={data:function(){return{header:{left:"today prev,next",center:"title"},events:JSON.parse(sessionStorage.getItem("planningData")),dataModified:r,hours:0}},methods:{eventSelected:function(e,t,s){if("Salaried"==sessionStorage.getItem("role")||"Human Resourses Director"==sessionStorage.getItem("role"))alert("Vous n'avez pas le droit de modifier votre planning!"),this.events=JSON.parse(sessionStorage.getItem("planningData"));else{var a=prompt("Entrer l'heure de début","8"),n=prompt("Entrer l'heure de fin","18"),r=new Date(e.start);r.setMinutes(0),this.events.forEach(function(t){t.title==e.title&&(console.log("toto"),t.start=o(r.setHours(a)),t.end=o(r.setHours(n)))}),this.dataModified=!0}},eventDragStop:function(e){if(console.log("drop"),"Salaried"==sessionStorage.getItem("role")||"Human Resourses Director"==sessionStorage.getItem("role"))alert("Vous n'avez pas le droit de modifier votre planning!"),this.events=JSON.parse(sessionStorage.getItem("planningData"));else{var t=new Date(e.start);this.events.forEach(function(s){s.title==e.title&&(s.start=o(t.setHours(e.start.format("HH"))),s.end=o(t.setHours(e.end.format("HH"))))}),this.dataModified=!0}},eventResizeStop:function(e){if(console.log("resize"),"Salaried"==sessionStorage.getItem("role")||"Human Resourses Director"==sessionStorage.getItem("role"))alert("Vous n'avez pas le droit de modifier votre planning!"),this.events=JSON.parse(sessionStorage.getItem("planningData"));else{var t=new Date(e.start);this.events.forEach(function(s){s.title==e.title&&(s.start=o(t.setHours(e.start.format("HH"))),s.end=o(t.setHours(e.end.format("HH"))))}),this.dataModified=!0}},saveData:function(){console.log("dataSave"),sessionStorage.setItem("planningData",JSON.stringify(this.events)),this.hourCount(),this.dataModified=!1},hourCount:function(){var e=JSON.parse(sessionStorage.getItem("planningData"));this.hours=0;var t=this,s=new Date;e.forEach(function(e){if(!(o(s).startOf("day")<=o(e.start).startOf("day"))){var a=o(e.start),n=o(e.end);t.hours+=o.duration(n.diff(a)).asHours()}})}},created:function(){this.hourCount()}},d=i,l=s("2877"),u=Object(l["a"])(d,a,n,!1,null,null,null);u.options.__file="Planning.vue";t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0cc3f3.e9071e1f.js.map