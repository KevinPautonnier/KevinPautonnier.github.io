(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cc3f3"],{"4cb0":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e._v("Nombre d'heure éffectuées : "+e._s(e.hours))]),e.dataModified?a("button",{on:{click:e.saveData}},[e._v("Enregistrer les modifications")]):e._e(),a("full-calendar",{ref:"calendar",attrs:{id:"planning",events:e.events,header:e.header},on:{"event-selected":e.eventSelected,"event-drop":e.eventDragStop,"event-resize":e.eventResizeStop}})],1)},n=[],o=(a("ac6a"),a("cadf"),a("551c"),a("097d"),a("c1df"));o().format();var r=!1,i={data:function(){return{header:{left:"today prev,next",center:"title",right:"agendaDay,basicDay,agendaWeek,basicWeek"},events:JSON.parse(sessionStorage.getItem("planningData")),dataModified:r,hours:0}},methods:{eventSelected:function(e,t,a){if("Salaried"==sessionStorage.getItem("role")||"Human Resourses Director"==sessionStorage.getItem("role"))alert("Vous n'avez pas le droit de modifier votre planning!"),this.events=JSON.parse(sessionStorage.getItem("planningData"));else{var s=prompt("Entrer l'heure de début","8"),n=prompt("Entrer l'heure de fin","18"),r=new Date(e.start);r.setMinutes(0),this.events.forEach(function(t){t.title==e.title&&(console.log("toto"),t.start=o(r.setHours(s)),t.end=o(r.setHours(n)))}),this.dataModified=!0}},eventDragStop:function(e){if(console.log("drop"),"Salaried"==sessionStorage.getItem("role")||"Human Resourses Director"==sessionStorage.getItem("role"))alert("Vous n'avez pas le droit de modifier votre planning!"),this.events=JSON.parse(sessionStorage.getItem("planningData"));else{var t=new Date(e.start);this.events.forEach(function(a){a.title==e.title&&(a.start=o(t.setHours(e.start.format("HH"))),a.end=o(t.setHours(e.end.format("HH"))))}),this.dataModified=!0}},eventResizeStop:function(e){if(console.log("resize"),"Salaried"==sessionStorage.getItem("role")||"Human Resourses Director"==sessionStorage.getItem("role"))alert("Vous n'avez pas le droit de modifier votre planning!"),this.events=JSON.parse(sessionStorage.getItem("planningData"));else{var t=new Date(e.start);this.events.forEach(function(a){a.title==e.title&&(a.start=o(t.setHours(e.start.format("HH"))),a.end=o(t.setHours(e.end.format("HH"))))}),this.dataModified=!0}},saveData:function(){console.log("dataSave"),sessionStorage.setItem("planningData",JSON.stringify(this.events)),this.hourCount(),this.dataModified=!1},hourCount:function(){var e=JSON.parse(sessionStorage.getItem("planningData"));this.hours=0;var t=this,a=new Date;e.forEach(function(e){if(!(o(a).startOf("day")<=o(e.start).startOf("day"))){var s=o(e.start),n=o(e.end);t.hours+=o.duration(n.diff(s)).asHours()}})}},created:function(){this.hourCount()}},d=i,l=a("2877"),u=Object(l["a"])(d,s,n,!1,null,null,null);u.options.__file="Planning.vue";t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0cc3f3.67ea20d7.js.map